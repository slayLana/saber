{"remainingRequest":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiang/WorkSpace/code/bladex/saber/src/views/work/process/leave/form.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jiang/WorkSpace/code/bladex/saber/src/views/work/process/leave/form.vue","mtime":1666151205548},{"path":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/cache-loader/dist/cjs.js","mtime":1666157453018},{"path":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/babel-loader/lib/index.js","mtime":1666157453268},{"path":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/cache-loader/dist/cjs.js","mtime":1666157453018},{"path":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/vue-loader/lib/index.js","mtime":1666157454301}],"contextDependencies":[],"result":["\n  import {leaveProcess} from \"@/api/work/process\";\n\n  export default {\n    data() {\n      return {\n        processDefinitionId: '',\n        form: {},\n        option: {\n          group: [\n            {\n              icon: 'el-icon-info',\n              label: '请假基础信息',\n              prop: 'group1',\n              column: [\n                {\n                  label: '审批人员',\n                  prop: 'taskUser',\n                  type: 'select',\n                  dicUrl: `/api/blade-user/user-list`,\n                  props: {\n                    label: \"account\",\n                    value: \"id\"\n                  },\n                  span: 24,\n                  rules: [\n                    {\n                      required: true,\n                      message: '请选择审批人员',\n                      trigger: 'blur'\n                    }\n                  ]\n                },\n                {\n                  label: '开始时间',\n                  prop: 'startTime',\n                  type: 'datetime',\n                  valueFormat: 'yyyy-MM-dd HH:mm:ss',\n                  rules: [\n                    {\n                      required: true,\n                      message: '请选择开始时间',\n                      trigger: 'blur'\n                    }\n                  ]\n                },\n                {\n                  label: '结束时间',\n                  prop: 'endTime',\n                  type: 'datetime',\n                  valueFormat: 'yyyy-MM-dd HH:mm:ss',\n                  rules: [\n                    {\n                      required: true,\n                      message: '请选择结束时间',\n                      trigger: 'blur'\n                    }\n                  ]\n                },\n                {\n                  label: '请假理由',\n                  prop: 'reason',\n                  type: 'textarea',\n                  span: 24,\n                  rules: [\n                    {\n                      required: true,\n                      message: '请输入请假理由',\n                      trigger: 'blur'\n                    }\n                  ]\n                },\n              ]\n            },\n          ],\n        }\n      }\n    },\n    created() {\n      this.processDefinitionId = this.$route.params.processDefinitionId;\n    },\n    methods: {\n      handleSubmit() {\n        const params = {\n          processDefinitionId: this.$route.params.processDefinitionId,\n          ...this.form,\n        };\n        leaveProcess(params).then(resp => {\n          const data = resp.data;\n          if (data.success) {\n            this.$message.success(data.msg);\n            this.$router.$avueRouter.closeTag();\n            this.$router.push({path: `/work/start`});\n          } else {\n            this.$message.error(data.msg || '提交失败');\n          }\n        });\n      }\n    }\n  }\n",{"version":3,"sources":["form.vue"],"names":[],"mappings":";AAYA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"form.vue","sourceRoot":"src/views/work/process/leave","sourcesContent":["<template>\n  <div>\n    <basic-container>\n      <avue-form :option=\"option\" v-model=\"form\" @submit=\"handleSubmit\"/>\n    </basic-container>\n    <basic-container>\n      <flow-design :is-display=\"true\" :process-definition-id=\"processDefinitionId\"></flow-design>\n    </basic-container>\n  </div>\n</template>\n\n<script>\n  import {leaveProcess} from \"@/api/work/process\";\n\n  export default {\n    data() {\n      return {\n        processDefinitionId: '',\n        form: {},\n        option: {\n          group: [\n            {\n              icon: 'el-icon-info',\n              label: '请假基础信息',\n              prop: 'group1',\n              column: [\n                {\n                  label: '审批人员',\n                  prop: 'taskUser',\n                  type: 'select',\n                  dicUrl: `/api/blade-user/user-list`,\n                  props: {\n                    label: \"account\",\n                    value: \"id\"\n                  },\n                  span: 24,\n                  rules: [\n                    {\n                      required: true,\n                      message: '请选择审批人员',\n                      trigger: 'blur'\n                    }\n                  ]\n                },\n                {\n                  label: '开始时间',\n                  prop: 'startTime',\n                  type: 'datetime',\n                  valueFormat: 'yyyy-MM-dd HH:mm:ss',\n                  rules: [\n                    {\n                      required: true,\n                      message: '请选择开始时间',\n                      trigger: 'blur'\n                    }\n                  ]\n                },\n                {\n                  label: '结束时间',\n                  prop: 'endTime',\n                  type: 'datetime',\n                  valueFormat: 'yyyy-MM-dd HH:mm:ss',\n                  rules: [\n                    {\n                      required: true,\n                      message: '请选择结束时间',\n                      trigger: 'blur'\n                    }\n                  ]\n                },\n                {\n                  label: '请假理由',\n                  prop: 'reason',\n                  type: 'textarea',\n                  span: 24,\n                  rules: [\n                    {\n                      required: true,\n                      message: '请输入请假理由',\n                      trigger: 'blur'\n                    }\n                  ]\n                },\n              ]\n            },\n          ],\n        }\n      }\n    },\n    created() {\n      this.processDefinitionId = this.$route.params.processDefinitionId;\n    },\n    methods: {\n      handleSubmit() {\n        const params = {\n          processDefinitionId: this.$route.params.processDefinitionId,\n          ...this.form,\n        };\n        leaveProcess(params).then(resp => {\n          const data = resp.data;\n          if (data.success) {\n            this.$message.success(data.msg);\n            this.$router.$avueRouter.closeTag();\n            this.$router.push({path: `/work/start`});\n          } else {\n            this.$message.error(data.msg || '提交失败');\n          }\n        });\n      }\n    }\n  }\n</script>\n"]}]}