{"remainingRequest":"/Users/jiang/WorkSpace/bladex/saber/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiang/WorkSpace/bladex/saber/src/page/index/search.vue?vue&type=style&index=0&id=1ffa9008&lang=scss&scoped=true&","dependencies":[{"path":"/Users/jiang/WorkSpace/bladex/saber/src/page/index/search.vue","mtime":1666151205525},{"path":"/Users/jiang/WorkSpace/bladex/saber/node_modules/css-loader/index.js","mtime":1666157452306},{"path":"/Users/jiang/WorkSpace/bladex/saber/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1666157454418},{"path":"/Users/jiang/WorkSpace/bladex/saber/node_modules/postcss-loader/src/index.js","mtime":1666157453259},{"path":"/Users/jiang/WorkSpace/bladex/saber/node_modules/sass-loader/dist/cjs.js","mtime":1666157452322},{"path":"/Users/jiang/WorkSpace/bladex/saber/node_modules/cache-loader/dist/cjs.js","mtime":1666157453018},{"path":"/Users/jiang/WorkSpace/bladex/saber/node_modules/vue-loader/lib/index.js","mtime":1666157454301}],"contextDependencies":[],"result":["\n.avue-searchs {\n  padding-top: 50px;\n  width: 100%;\n  height: 100%;\n  background-color: #fff;\n  z-index: 1024;\n\n  &__title {\n    margin-bottom: 60px;\n    text-align: center;\n    font-size: 42px;\n    font-weight: bold;\n    letter-spacing: 2px;\n    text-indent: 2px;\n  }\n\n  &__form {\n    margin: 0 auto 50px auto;\n    width: 50%;\n    text-align: center;\n\n    p {\n      margin-top: 20px;\n    }\n  }\n\n  &__scrollbar {\n    height: 400px;\n  }\n\n  &__list {\n    box-sizing: border-box;\n    padding: 20px 30px;\n    margin: 0 auto;\n    width: 70%;\n    border-radius: 4px;\n    border: 1px solid #ebeef5;\n    background-color: #fff;\n    overflow: hidden;\n    color: #303133;\n    transition: 0.3s;\n    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  }\n\n  &__item {\n    padding: 5px 0;\n    border-bottom: 1px dashed #eee;\n\n    &-icon {\n      margin-right: 5px;\n      font-size: 18px;\n    }\n\n    &-title {\n      font-size: 20px;\n      font-weight: 500;\n      color: #333;\n    }\n\n    &-path {\n      line-height: 30px;\n      color: #666;\n    }\n  }\n}\n",{"version":3,"sources":["search.vue"],"names":[],"mappings":";AAgMA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"search.vue","sourceRoot":"src/page/index","sourcesContent":["<template>\n  <div class=\"avue-searchs\"\n       @click.self=\"handleEsc\">\n    <div class=\"avue-searchs__title\">菜单搜索</div>\n    <div class=\"avue-searchs__content\">\n      <div class=\"avue-searchs__form\">\n        <el-input :placeholder=\"$t('search')\"\n                  v-model=\"value\"\n                  @keydown.esc.native=\"handleEsc\">\n          <el-button slot=\"append\"\n                     icon=\"el-icon-search\"></el-button>\n        </el-input>\n        <p>\n          <el-tag>你可以使用快捷键esc 关闭</el-tag>\n        </p>\n      </div>\n      <div class=\"avue-searchs__list\">\n        <el-scrollbar class=\"avue-searchs__scrollbar\">\n          <div class=\"avue-searchs__item\"\n               v-for=\"(item,index) in menus\"\n               :key=\"index\"\n               @click=\"handleSelect(item)\">\n            <i :class=\"[item[iconKey],'avue-searchs__item-icon']\"></i>\n            <span class=\"avue-searchs__item-title\">{{item[labelKey]}}</span>\n            <div class=\"avue-searchs__item-path\">\n              {{item[pathKey]}}\n            </div>\n          </div>\n        </el-scrollbar>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import config from './sidebar/config.js'\n  import {mapGetters} from \"vuex\";\n\n  export default {\n    data() {\n      return {\n        config: config,\n        value: \"\",\n        menus: [],\n        menuList: []\n      }\n    },\n    created() {\n      this.getMenuList();\n    },\n    watch: {\n      value() {\n        this.querySearch();\n      },\n      menu() {\n        this.getMenuList();\n      }\n    },\n    computed: {\n      labelKey() {\n        return this.website.menu.props.label || this.config.propsDefault.label;\n      },\n      pathKey() {\n        return this.website.menu.props.path || this.config.propsDefault.path;\n      },\n      iconKey() {\n        return this.website.menu.props.icon || this.config.propsDefault.icon;\n      },\n      childrenKey() {\n        return (\n          this.website.menu.props.children || this.config.propsDefault.children\n        );\n      },\n      ...mapGetters([\"menu\", \"website\"])\n    },\n    methods: {\n      handleEsc() {\n        this.$parent.isSearch = false;\n      },\n      getMenuList() {\n        const findMenu = list => {\n          for (let i = 0; i < list.length; i++) {\n            const ele = Object.assign({}, list[i]);\n            if (this.validatenull(ele[this.childrenKey])) {\n              this.menuList.push(ele);\n            } else {\n              findMenu(ele[this.childrenKey]);\n            }\n          }\n        };\n        this.menuList = [];\n        findMenu(this.menu);\n        this.menus = this.menuList;\n      },\n      querySearch() {\n        var restaurants = this.menuList;\n        var queryString = this.value\n        this.menus = queryString\n          ? this.menuList.filter(this.createFilter(queryString))\n          : restaurants;\n      },\n      createFilter(queryString) {\n        return restaurant => {\n          return (\n            restaurant.name.toLowerCase().indexOf(queryString.toLowerCase()) ===\n            0\n          );\n        };\n      },\n      handleSelect(item) {\n        this.handleEsc();\n        this.value = \"\";\n        this.$router.push({\n          path: this.$router.$avueRouter.getPath({\n            name: item[this.labelKey],\n            src: item[this.pathKey]\n          }, item.meta),\n          query: item.query\n        });\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .avue-searchs {\n    padding-top: 50px;\n    width: 100%;\n    height: 100%;\n    background-color: #fff;\n    z-index: 1024;\n\n    &__title {\n      margin-bottom: 60px;\n      text-align: center;\n      font-size: 42px;\n      font-weight: bold;\n      letter-spacing: 2px;\n      text-indent: 2px;\n    }\n\n    &__form {\n      margin: 0 auto 50px auto;\n      width: 50%;\n      text-align: center;\n\n      p {\n        margin-top: 20px;\n      }\n    }\n\n    &__scrollbar {\n      height: 400px;\n    }\n\n    &__list {\n      box-sizing: border-box;\n      padding: 20px 30px;\n      margin: 0 auto;\n      width: 70%;\n      border-radius: 4px;\n      border: 1px solid #ebeef5;\n      background-color: #fff;\n      overflow: hidden;\n      color: #303133;\n      transition: 0.3s;\n      box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n    }\n\n    &__item {\n      padding: 5px 0;\n      border-bottom: 1px dashed #eee;\n\n      &-icon {\n        margin-right: 5px;\n        font-size: 18px;\n      }\n\n      &-title {\n        font-size: 20px;\n        font-weight: 500;\n        color: #333;\n      }\n\n      &-path {\n        line-height: 30px;\n        color: #666;\n      }\n    }\n  }\n</style>\n"]}]}