{"remainingRequest":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiang/WorkSpace/code/bladex/saber/src/page/logs/index.vue?vue&type=style&index=0&id=2385e7ae&lang=scss&scoped=true&","dependencies":[{"path":"/Users/jiang/WorkSpace/code/bladex/saber/src/page/logs/index.vue","mtime":1666151205528},{"path":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/css-loader/index.js","mtime":1666157452306},{"path":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1666157454418},{"path":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/postcss-loader/src/index.js","mtime":1666157453259},{"path":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/sass-loader/dist/cjs.js","mtime":1666157452322},{"path":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/cache-loader/dist/cjs.js","mtime":1666157453018},{"path":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/vue-loader/lib/index.js","mtime":1666157454301}],"contextDependencies":[],"result":["\n.code {\n  font-size: 12px;\n  display: block;\n  font-family: monospace;\n  white-space: pre;\n  margin: 1em 0px;\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA+HA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/page/logs","sourcesContent":["<template>\n  <avue-crud :data=\"logsList\"\n             :option=\"option\">\n    <template slot=\"menuLeft\">\n      <el-button type=\"primary\"\n                 size=\"small\"\n                 icon=\"el-icon-upload\"\n                 @click=\"send\">上传服务器</el-button>\n      <el-button type=\"danger\"\n                 size=\"small\"\n                 icon=\"el-icon-delete\"\n                 @click=\"clear\">清空本地日志</el-button>\n    </template>\n    <template slot-scope=\"scope\"\n              slot=\"type\">\n      <el-tag type=\"danger\"\n              size=\"small\">{{scope.label}}</el-tag>\n    </template>\n    <template slot-scope=\"props\"\n              slot=\"expand\">\n      <pre class=\"code\">\n        {{props.row.stack}}\n      </pre>\n    </template>\n  </avue-crud>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"errLogs\",\n  data() {\n    return {\n      option: {\n        menu: false,\n        addBtn: false,\n        page: false,\n        border: true,\n        expand: true,\n        refreshBtn: false,\n        headerAlign: \"center\",\n        column: [\n          {\n            label: \"类型\",\n            prop: \"type\",\n            width: 80,\n            align: \"center\",\n            slot: true,\n            dicData: [\n              {\n                label: \"bug\",\n                value: \"error\"\n              }\n            ]\n          },\n          {\n            label: \"地址\",\n            width: 200,\n            prop: \"url\",\n            overHidden: true\n          },\n          {\n            label: \"内容\",\n            prop: \"message\",\n            overHidden: true\n          },\n          {\n            label: \"错误堆栈\",\n            prop: \"stack\",\n            hide: true\n          },\n          {\n            label: \"时间\",\n            align: \"center\",\n            prop: \"time\",\n            width: 200\n          }\n        ]\n      }\n    };\n  },\n  created() {},\n  mounted() {},\n  computed: {\n    ...mapGetters([\"logsList\"])\n  },\n  props: [],\n  methods: {\n    send() {\n      this.$confirm(\"确定上传本地日志到服务器?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          this.$store.dispatch(\"SendLogs\").then(() => {\n            this.$parent.$parent.box = false;\n            this.$message({\n              type: \"success\",\n              message: \"发送成功!\"\n            });\n          });\n        })\n        .catch(() => {});\n    },\n    clear() {\n      this.$confirm(\"确定清空本地日志记录?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          this.$store.commit(\"CLEAR_LOGS\");\n          window.console.log(this);\n          this.$parent.$parent.box = false;\n          this.$message({\n            type: \"success\",\n            message: \"清空成功!\"\n          });\n        })\n        .catch(() => {});\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.code {\n  font-size: 12px;\n  display: block;\n  font-family: monospace;\n  white-space: pre;\n  margin: 1em 0px;\n}\n</style>\n"]}]}