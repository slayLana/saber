{"remainingRequest":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/babel-loader/lib/index.js!/Users/jiang/WorkSpace/code/bladex/saber/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jiang/WorkSpace/code/bladex/saber/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiang/WorkSpace/code/bladex/saber/src/views/aliCount/aliCount.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jiang/WorkSpace/code/bladex/saber/src/views/aliCount/aliCount.vue","mtime":1666151205536},{"path":"/Users/jiang/WorkSpace/code/bladex/saber/babel.config.js","mtime":1666151205448},{"path":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/cache-loader/dist/cjs.js","mtime":1666157453018},{"path":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/babel-loader/lib/index.js","mtime":1666157453268},{"path":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/cache-loader/dist/cjs.js","mtime":1666157453018},{"path":"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/vue-loader/lib/index.js","mtime":1666157454301}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _defineProperty from \"/Users/jiang/WorkSpace/code/bladex/saber/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { getList, getDetail, add, update, remove } from \"@/api/aliCount/aliCount\";\nimport option from \"@/const/aliCount/aliCount\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data: function data() {\n    return {\n      // 弹框标题\n      title: '',\n      // 是否展示弹框\n      box: false,\n      // 是否显示查询\n      search: true,\n      // 加载中\n      loading: true,\n      // 是否为查看模式\n      view: false,\n      // 查询信息\n      query: {},\n      // 分页信息\n      page: {\n        currentPage: 1,\n        pageSize: 10,\n        total: 40\n      },\n      // 表单数据\n      form: {},\n      // 选择行\n      selectionList: [],\n      // 表单配置\n      option: option,\n      // 表单列表\n      data: []\n    };\n  },\n  mounted: function mounted() {\n    this.init();\n    this.onLoad(this.page);\n  },\n  computed: _objectSpread(_objectSpread({}, mapGetters([\"permission\"])), {}, {\n    ids: function ids() {\n      var ids = [];\n      this.selectionList.forEach(function (ele) {\n        ids.push(ele.id);\n      });\n      return ids.join(\",\");\n    }\n  }),\n  methods: {\n    init: function init() {},\n    searchHide: function searchHide() {\n      this.search = !this.search;\n    },\n    searchChange: function searchChange() {\n      this.onLoad(this.page);\n    },\n    searchReset: function searchReset() {\n      this.query = {};\n      this.page.currentPage = 1;\n      this.onLoad(this.page);\n    },\n    handleSubmit: function handleSubmit() {\n      var _this = this;\n\n      if (!this.form.id) {\n        add(this.form).then(function () {\n          _this.box = false;\n\n          _this.onLoad(_this.page);\n\n          _this.$message({\n            type: \"success\",\n            message: \"操作成功!\"\n          });\n        });\n      } else {\n        update(this.form).then(function () {\n          _this.box = false;\n\n          _this.onLoad(_this.page);\n\n          _this.$message({\n            type: \"success\",\n            message: \"操作成功!\"\n          });\n        });\n      }\n    },\n    handleAdd: function handleAdd() {\n      this.title = '新增';\n      this.form = {};\n      this.box = true;\n    },\n    handleEdit: function handleEdit(row) {\n      var _this2 = this;\n\n      this.title = '编辑';\n      this.box = true;\n      getDetail(row.id).then(function (res) {\n        _this2.form = res.data.data;\n      });\n    },\n    handleView: function handleView(row) {\n      var _this3 = this;\n\n      this.title = '查看';\n      this.view = true;\n      this.box = true;\n      getDetail(row.id).then(function (res) {\n        _this3.form = res.data.data;\n      });\n    },\n    handleDelete: function handleDelete() {\n      var _this4 = this;\n\n      if (this.selectionList.length === 0) {\n        this.$message.warning(\"请选择至少一条数据\");\n        return;\n      }\n\n      this.$confirm(\"确定将选择数据删除?\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(function () {\n        return remove(_this4.ids);\n      }).then(function () {\n        _this4.selectionClear();\n\n        _this4.onLoad(_this4.page);\n\n        _this4.$message({\n          type: \"success\",\n          message: \"操作成功!\"\n        });\n      });\n    },\n    rowDel: function rowDel(row) {\n      var _this5 = this;\n\n      this.$confirm(\"确定将选择数据删除?\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      }).then(function () {\n        return remove(row.id);\n      }).then(function () {\n        _this5.onLoad(_this5.page);\n\n        _this5.$message({\n          type: \"success\",\n          message: \"操作成功!\"\n        });\n      });\n    },\n    beforeClose: function beforeClose(done) {\n      done();\n      this.form = {};\n      this.view = false;\n    },\n    selectionChange: function selectionChange(list) {\n      this.selectionList = list;\n    },\n    selectionClear: function selectionClear() {\n      this.selectionList = [];\n      this.$refs.table.clearSelection();\n    },\n    currentChange: function currentChange(currentPage) {\n      this.page.currentPage = currentPage;\n      this.onLoad(this.page);\n    },\n    sizeChange: function sizeChange(pageSize) {\n      this.page.pageSize = pageSize;\n      this.onLoad(this.page);\n    },\n    onLoad: function onLoad(page) {\n      var _this6 = this;\n\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.loading = true;\n      getList(page.currentPage, page.pageSize, Object.assign(params, this.query)).then(function (res) {\n        var data = res.data.data;\n        _this6.page.total = data.total;\n        _this6.data = data.records;\n        _this6.loading = false;\n\n        _this6.selectionClear();\n      });\n    }\n  }\n};",{"version":3,"mappings":";;;;;;;;;;AA2FA;AACA;AACA;AAEA;EACAA,IADA,kBACA;IACA;MACA;MACAC,SAFA;MAGA;MACAC,UAJA;MAKA;MACAC,YANA;MAOA;MACAC,aARA;MASA;MACAC,WAVA;MAWA;MACAC,SAZA;MAaA;MACAC;QACAC,cADA;QAEAC,YAFA;QAGAC;MAHA,CAdA;MAmBA;MACAC,QApBA;MAqBA;MACAC,iBAtBA;MAuBA;MACAC,cAxBA;MAyBA;MACAb;IA1BA;EA4BA,CA9BA;EA+BAc,OA/BA,qBA+BA;IACA;IACA;EACA,CAlCA;EAmCAC,0CACAC,0BADA;IAEAC,GAFA,iBAEA;MACA;MACA;QACAA;MACA,CAFA;MAGA;IACA;EARA,EAnCA;EA6CAC;IACAC,IADA,kBACA,CACA,CAFA;IAGAC,UAHA,wBAGA;MACA;IACA,CALA;IAMAC,YANA,0BAMA;MACA;IACA,CARA;IASAC,WATA,yBASA;MACA;MACA;MACA;IACA,CAbA;IAcAC,YAdA,0BAcA;MAAA;;MACA;QACAC;UACA;;UACA;;UACA;YACAC,eADA;YAEAC;UAFA;QAIA,CAPA;MAQA,CATA,MASA;QACAC;UACA;;UACA;;UACA;YACAF,eADA;YAEAC;UAFA;QAIA,CAPA;MAQA;IACA,CAlCA;IAmCAE,SAnCA,uBAmCA;MACA;MACA;MACA;IACA,CAvCA;IAwCAC,UAxCA,sBAwCAC,GAxCA,EAwCA;MAAA;;MACA;MACA;MACAC;QACA;MACA,CAFA;IAGA,CA9CA;IA+CAC,UA/CA,sBA+CAF,GA/CA,EA+CA;MAAA;;MACA;MACA;MACA;MACAC;QACA;MACA,CAFA;IAGA,CAtDA;IAuDAE,YAvDA,0BAuDA;MAAA;;MACA;QACA;QACA;MACA;;MACA;QACAC,uBADA;QAEAC,sBAFA;QAGAV;MAHA,GAKAW,IALA,CAKA;QACA;MACA,CAPA,EAQAA,IARA,CAQA;QACA;;QACA;;QACA;UACAX,eADA;UAEAC;QAFA;MAIA,CAfA;IAgBA,CA5EA;IA6EAW,MA7EA,kBA6EAP,GA7EA,EA6EA;MAAA;;MACA;QACAI,uBADA;QAEAC,sBAFA;QAGAV;MAHA,GAKAW,IALA,CAKA;QACA;MACA,CAPA,EAQAA,IARA,CAQA;QACA;;QACA;UACAX,eADA;UAEAC;QAFA;MAIA,CAdA;IAeA,CA7FA;IA8FAY,WA9FA,uBA8FAC,IA9FA,EA8FA;MACAA;MACA;MACA;IACA,CAlGA;IAmGAC,eAnGA,2BAmGAC,IAnGA,EAmGA;MACA;IACA,CArGA;IAsGAC,cAtGA,4BAsGA;MACA;MACA;IACA,CAzGA;IA0GAC,aA1GA,yBA0GAnC,WA1GA,EA0GA;MACA;MACA;IACA,CA7GA;IA8GAoC,UA9GA,sBA8GAnC,QA9GA,EA8GA;MACA;MACA;IACA,CAjHA;IAkHAoC,MAlHA,kBAkHAtC,IAlHA,EAkHA;MAAA;;MAAA;MACA;MACAuC;QACA;QACA;QACA;QACA;;QACA;MACA,CANA;IAOA;EA3HA;AA7CA","names":["data","title","box","search","loading","view","query","page","currentPage","pageSize","total","form","selectionList","option","mounted","computed","mapGetters","ids","methods","init","searchHide","searchChange","searchReset","handleSubmit","add","type","message","update","handleAdd","handleEdit","row","getDetail","handleView","handleDelete","confirmButtonText","cancelButtonText","then","rowDel","beforeClose","done","selectionChange","list","selectionClear","currentChange","sizeChange","onLoad","getList"],"sourceRoot":"src/views/aliCount","sources":["aliCount.vue"],"sourcesContent":["<template>\n  <basic-container>\n    <div class=\"avue-crud\">\n      <el-row :hidden=\"!search\" style=\"padding:5px\">\n        <!-- 查询模块 -->\n        <el-form :inline=\"true\" :size=\"option.size\" :model=\"query\">\n          <template>\n            <el-form-item label=\"字段\">\n              <el-input v-model=\"query.createDate\" placeholder=\"请输入日期时间\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"字段\">\n              <el-input v-model=\"query.aliGoodsId\" placeholder=\"请输入阿里商品id\"></el-input>\n            </el-form-item>\n          </template>\n          <!-- 查询按钮 -->\n          <el-form-item>\n            <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"searchChange\">搜索</el-button>\n            <el-button icon=\"el-icon-delete\" @click=\"searchReset()\">清空</el-button>\n          </el-form-item>\n        </el-form>\n      </el-row>\n      <el-row>\n        <div class=\"avue-crud__menu\">\n          <!-- 头部左侧按钮模块 -->\n          <div class=\"avue-crud__left\">\n            <el-button :size=\"option.size\" type=\"primary\" icon=\"el-icon-plus\" @click=\"handleAdd\">新增</el-button>\n            <el-button :size=\"option.size\" type=\"danger\" icon=\"el-icon-delete\" @click=\"handleDelete\" plain>删除\n            </el-button>\n          </div>\n          <!-- 头部右侧按钮模块 -->\n          <div class=\"avue-crud__right\">\n            <el-button :size=\"option.size\" icon=\"el-icon-refresh\" @click=\"searchChange\" circle></el-button>\n            <el-button :size=\"option.size\" icon=\"el-icon-search\" @click=\"searchHide\" circle></el-button>\n          </div>\n        </div>\n      </el-row>\n      <el-row>\n        <!-- 列表模块 -->\n        <el-table ref=\"table\" v-loading=\"loading\" :size=\"option.size\" @selection-change=\"selectionChange\" :data=\"data\"\n                  style=\"width: 100%\"\n                  :border=\"option.border\">\n          <el-table-column type=\"selection\" v-if=\"option.selection\" width=\"55\" align=\"center\"></el-table-column>\n          <el-table-column type=\"expand\" v-if=\"option.expand\" align=\"center\"></el-table-column>\n          <el-table-column v-if=\"option.index\" label=\"#\" type=\"index\" width=\"50\" align=\"center\">\n          </el-table-column>\n          <template v-for=\"(item,index) in option.column\">\n            <!-- table字段 -->\n            <el-table-column v-if=\"item.hide!==true\"\n                             :prop=\"item.prop\"\n                             :label=\"item.label\"\n                             :width=\"item.width\"\n                             :key=\"index\">\n                             <template  slot-scope=\"{row}\">\n                  <img v-if=\"item.prop == 'aliGoodsImg'\" :src=\"row.aliGoodsImg\" class=\"avatar\" style=\"width: 100px; height: 100px\"/>\n            \n              <template v-else>{{row[item.prop]}}</template>\n              </template>\n            </el-table-column>\n          </template>\n          <!-- 操作栏模块 -->\n        </el-table>\n      </el-row>\n      <el-row>\n        <!-- 分页模块 -->\n        <el-pagination\n          align=\"right\" background\n          @size-change=\"sizeChange\"\n          @current-change=\"currentChange\"\n          :current-page=\"page.currentPage\"\n          :page-sizes=\"[10, 20, 30, 40, 50, 100]\"\n          :page-size=\"page.pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"page.total\">\n        </el-pagination>\n      </el-row>\n      <!-- 表单模块 -->\n      <el-dialog :title=\"title\" :visible.sync=\"box\" width=\"50%\" :before-close=\"beforeClose\" append-to-body>\n        <el-form :disabled=\"view\" :size=\"option.size\" ref=\"form\" :model=\"form\" label-width=\"80px\">\n          <!-- 表单字段 -->\n        </el-form>\n        <!-- 表单按钮 -->\n        <span v-if=\"!view\" slot=\"footer\" class=\"dialog-footer\">\n          <el-button type=\"primary\" icon=\"el-icon-circle-check\" :size=\"option.size\" @click=\"handleSubmit\">提 交</el-button>\n          <el-button icon=\"el-icon-circle-close\" :size=\"option.size\" @click=\"box = false\">取 消</el-button>\n        </span>\n      </el-dialog>\n    </div>\n  </basic-container>\n</template>\n\n<script>\n  import {getList, getDetail, add, update, remove} from \"@/api/aliCount/aliCount\";\n  import option from \"@/const/aliCount/aliCount\";\n  import {mapGetters} from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      // 弹框标题\n      title: '',\n      // 是否展示弹框\n      box: false,\n      // 是否显示查询\n      search: true,\n      // 加载中\n      loading: true,\n      // 是否为查看模式\n      view: false,\n      // 查询信息\n      query: {},\n      // 分页信息\n      page: {\n        currentPage: 1,\n        pageSize: 10,\n        total: 40\n      },\n      // 表单数据\n      form: {},\n      // 选择行\n      selectionList: [],\n      // 表单配置\n      option: option,\n      // 表单列表\n      data: [],\n    }\n  },\n  mounted() {\n    this.init();\n    this.onLoad(this.page);\n  },\n  computed: {\n    ...mapGetters([\"permission\"]),\n    ids() {\n      let ids = [];\n      this.selectionList.forEach(ele => {\n        ids.push(ele.id);\n      });\n      return ids.join(\",\");\n    }\n  },\n  methods: {\n    init() {\n    },\n    searchHide() {\n      this.search = !this.search;\n    },\n    searchChange() {\n      this.onLoad(this.page);\n    },\n    searchReset() {\n      this.query = {};\n      this.page.currentPage = 1;\n      this.onLoad(this.page);\n    },\n    handleSubmit() {\n      if (!this.form.id) {\n        add(this.form).then(() => {\n          this.box = false;\n          this.onLoad(this.page);\n          this.$message({\n            type: \"success\",\n            message: \"操作成功!\"\n          });\n        });\n      } else {\n        update(this.form).then(() => {\n          this.box = false;\n          this.onLoad(this.page);\n          this.$message({\n            type: \"success\",\n            message: \"操作成功!\"\n          });\n        })\n      }\n    },\n    handleAdd() {\n      this.title = '新增'\n      this.form = {}\n      this.box = true\n    },\n    handleEdit(row) {\n      this.title = '编辑'\n      this.box = true\n      getDetail(row.id).then(res => {\n        this.form = res.data.data;\n      });\n    },\n    handleView(row) {\n      this.title = '查看'\n      this.view = true;\n      this.box = true;\n      getDetail(row.id).then(res => {\n        this.form = res.data.data;\n      });\n    },\n    handleDelete() {\n      if (this.selectionList.length === 0) {\n        this.$message.warning(\"请选择至少一条数据\");\n        return;\n      }\n      this.$confirm(\"确定将选择数据删除?\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          return remove(this.ids);\n        })\n        .then(() => {\n          this.selectionClear();\n          this.onLoad(this.page);\n          this.$message({\n            type: \"success\",\n            message: \"操作成功!\"\n          });\n        });\n    },\n    rowDel(row) {\n      this.$confirm(\"确定将选择数据删除?\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          return remove(row.id);\n        })\n        .then(() => {\n          this.onLoad(this.page);\n          this.$message({\n            type: \"success\",\n            message: \"操作成功!\"\n          });\n        });\n    },\n    beforeClose(done) {\n      done()\n      this.form = {};\n      this.view = false;\n    },\n    selectionChange(list) {\n      this.selectionList = list;\n    },\n    selectionClear() {\n      this.selectionList = [];\n      this.$refs.table.clearSelection();\n    },\n    currentChange(currentPage) {\n      this.page.currentPage = currentPage;\n      this.onLoad(this.page);\n    },\n    sizeChange(pageSize) {\n      this.page.pageSize = pageSize;\n      this.onLoad(this.page);\n    },\n    onLoad(page, params = {}) {\n      this.loading = true;\n      getList(page.currentPage, page.pageSize, Object.assign(params, this.query)).then(res => {\n        const data = res.data.data;\n        this.page.total = data.total;\n        this.data = data.records;\n        this.loading = false;\n        this.selectionClear();\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.el-pagination {\n  margin-top: 20px;\n}\n</style>\n"]}]}